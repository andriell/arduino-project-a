String lcdLogArray[4] = {" ", " ", " ", " "};

struct lcdCharStruct {
  byte n;
  byte c[8];
};

#define LCD_CHARS_COUNT 67
lcdCharStruct lcdChars[] = {
  { 128, // А
    {
      0b001000,
      0b010100,
      0b100010,
      0b100010,
      0b111110,
      0b100010,
      0b100010,
      0b000000,
    }
  },
  { 129, // Б
    {
      0b111110,
      0b100000,
      0b100000,
      0b111100,
      0b100010,
      0b100010,
      0b111100,
      0b000000,
    }
  },
  { 130, // В
    {
      0b111100,
      0b100010,
      0b111100,
      0b100010,
      0b100010,
      0b100010,
      0b111100,
      0b000000,
    }
  },
  { 131, // Г
    {
      0b111110,
      0b100010,
      0b100000,
      0b100000,
      0b100000,
      0b100000,
      0b100000,
      0b000000,
    }
  },
  { 132, // Д
    {
      0b011100,
      0b010100,
      0b010100,
      0b010100,
      0b010100,
      0b111110,
      0b100010,
      0b000000,
    }
  },
  { 133, // Е
    {
      0b111110,
      0b100000,
      0b100000,
      0b111100,
      0b100000,
      0b100000,
      0b111110,
      0b000000,
    }
  },
  { 134, // Ж
    {
      0b101010,
      0b101010,
      0b011100,
      0b011100,
      0b101010,
      0b101010,
      0b101010,
      0b000000,
    }
  },
  { 135, // З
    {
      0b011100,
      0b100010,
      0b000010,
      0b001100,
      0b000010,
      0b100010,
      0b011100,
      0b000000,
    }
  },
  { 136, // И
    {
      0b100010,
      0b100010,
      0b100110,
      0b101010,
      0b110010,
      0b100010,
      0b100010,
      0b000000,
    }
  },
  { 137, // Й
    {
      0b001000,
      0b100010,
      0b100010,
      0b100110,
      0b101010,
      0b110010,
      0b100010,
      0b000000,
    }
  },
  { 138, // К
    {
      0b100010,
      0b100100,
      0b101000,
      0b110000,
      0b101000,
      0b100100,
      0b100010,
      0b000000,
    }
  },
  { 139, // Л
    {
      0b011110,
      0b010010,
      0b010010,
      0b010010,
      0b010010,
      0b010010,
      0b100010,
      0b000000,
    }
  },
  { 140, // М
    {
      0b100010,
      0b110110,
      0b110110,
      0b101010,
      0b100010,
      0b100010,
      0b100010,
      0b000000,
    }
  },
  { 141, // Н
    {
      0b100010,
      0b100010,
      0b100010,
      0b111110,
      0b100010,
      0b100010,
      0b100010,
      0b000000,
    }
  },
  { 142, // О
    {
      0b011100,
      0b100010,
      0b100010,
      0b100010,
      0b100010,
      0b100010,
      0b011100,
      0b000000,
    }
  },
  { 143, // П
    {
      0b111110,
      0b100010,
      0b100010,
      0b100010,
      0b100010,
      0b100010,
      0b100010,
      0b000000,
    }
  },
  { 144, // Р
    {
      0b111100,
      0b100010,
      0b100010,
      0b111100,
      0b100000,
      0b100000,
      0b100000,
      0b000000,
    }
  },
  { 145, // С
    {
      0b011100,
      0b100010,
      0b100000,
      0b100000,
      0b100000,
      0b100010,
      0b011100,
      0b000000,
    }
  },
  { 146, // Т
    {
      0b111110,
      0b101010,
      0b001000,
      0b001000,
      0b001000,
      0b001000,
      0b001000,
      0b000000,
    }
  },
  { 147, // У
    {
      0b100010,
      0b010100,
      0b010100,
      0b001000,
      0b001000,
      0b110000,
      0b100000,
      0b000000,
    }
  },
  { 148, // Ф
    {
      0b001000,
      0b011100,
      0b101010,
      0b101010,
      0b101010,
      0b011100,
      0b001000,
      0b000000,
    }
  },
  { 149, // Х
    {
      0b100010,
      0b100010,
      0b010100,
      0b001000,
      0b010100,
      0b100010,
      0b100010,
      0b000000,
    }
  },
  { 150, // Ц
    {
      0b100100,
      0b100100,
      0b100100,
      0b100100,
      0b100100,
      0b111110,
      0b000010,
      0b000000,
    }
  },
  { 151, // Ч
    {
      0b100010,
      0b100010,
      0b100010,
      0b011110,
      0b000010,
      0b000010,
      0b000010,
      0b000000,
    }
  },
  { 152, // Ш
    {
      0b101010,
      0b101010,
      0b101010,
      0b101010,
      0b101010,
      0b101010,
      0b111110,
      0b000000,
    }
  },
  { 153, // Щ
    {
      0b101010,
      0b101010,
      0b101010,
      0b101010,
      0b101010,
      0b111110,
      0b000010,
      0b000000,
    }
  },
  { 154, // Ъ
    {
      0b110000,
      0b010000,
      0b010000,
      0b011100,
      0b010010,
      0b010010,
      0b011100,
      0b000000,
    }
  },
  { 155, // Ы
    {
      0b100010,
      0b100010,
      0b100010,
      0b111010,
      0b101010,
      0b101010,
      0b111010,
      0b000000,
    }
  },
  { 156, // Ь
    {
      0b100000,
      0b100000,
      0b100000,
      0b111000,
      0b100100,
      0b100100,
      0b111000,
      0b000000,
    }
  },
  { 157, // Э
    {
      0b111000,
      0b000100,
      0b000010,
      0b011110,
      0b000010,
      0b000100,
      0b111000,
      0b000000,
    }
  },
  { 158, // Ю
    {
      0b100100,
      0b101010,
      0b101010,
      0b101010,
      0b111010,
      0b101010,
      0b100100,
      0b000000,
    }
  },
  { 159, // Я
    {
      0b011110,
      0b100010,
      0b100010,
      0b011110,
      0b010010,
      0b100010,
      0b100010,
      0b000000,
    }
  },
  { 160, // а
    {
      0b000000,
      0b000000,
      0b011000,
      0b000100,
      0b011100,
      0b100100,
      0b011110,
      0b000000,
    }
  },
  { 161, // б
    {
      0b011100,
      0b100000,
      0b101100,
      0b110010,
      0b100010,
      0b100010,
      0b011100,
      0b000000,
    }
  },
  { 162, // в
    {
      0b000000,
      0b000000,
      0b111000,
      0b100100,
      0b111100,
      0b100010,
      0b111100,
      0b000000,
    }
  },
  { 163, // г
    {
      0b000000,
      0b000000,
      0b111100,
      0b100100,
      0b100000,
      0b100000,
      0b100000,
      0b000000,
    }
  },
  { 164, // д
    {
      0b011100,
      0b000010,
      0b011010,
      0b100110,
      0b100010,
      0b100010,
      0b011100,
      0b000000,
    }
  },
  { 165, // е
    {
      0b000000,
      0b000000,
      0b011100,
      0b100010,
      0b111110,
      0b100000,
      0b011100,
      0b000000,
    }
  },
  { 166, // ж
    {
      0b000000,
      0b000000,
      0b101010,
      0b101010,
      0b011100,
      0b011100,
      0b101010,
      0b000000,
    }
  },
  { 167, // з
    {
      0b000000,
      0b000000,
      0b011000,
      0b100100,
      0b001000,
      0b100100,
      0b011000,
      0b000000,
    }
  },
  { 168, // и
    {
      0b000000,
      0b000000,
      0b100100,
      0b100100,
      0b101100,
      0b110100,
      0b100100,
      0b000000,
    }
  },
  { 169, // й
    {
      0b011000,
      0b000000,
      0b100100,
      0b100100,
      0b101100,
      0b110100,
      0b100100,
      0b000000,
    }
  },
  { 170, // к
    {
      0b000000,
      0b000000,
      0b100100,
      0b101000,
      0b110000,
      0b101000,
      0b100100,
      0b000000,
    }
  },
  { 171, // л
    {
      0b000000,
      0b000000,
      0b011110,
      0b010010,
      0b010010,
      0b010010,
      0b100010,
      0b000000,
    }
  },
  { 172, // м
    {
      0b000000,
      0b000000,
      0b100010,
      0b110110,
      0b101010,
      0b100010,
      0b100010,
      0b000000,
    }
  },
  { 173, // н
    {
      0b000000,
      0b000000,
      0b100100,
      0b100100,
      0b111100,
      0b100100,
      0b100100,
      0b000000,
    }
  },
  { 174, // о
    {
      0b000000,
      0b000000,
      0b011100,
      0b100010,
      0b100010,
      0b100010,
      0b011100,
      0b000000,
    }
  },
  { 175, // п
    {
      0b000000,
      0b000000,
      0b111100,
      0b100100,
      0b100100,
      0b100100,
      0b100100,
      0b000000,
    }
  },
  { 224, // р
    {
      0b000000,
      0b000000,
      0b101100,
      0b110010,
      0b100010,
      0b110010,
      0b101100,
      0b100000,
    }
  },
  { 225, // с
    {
      0b000000,
      0b000000,
      0b011100,
      0b100010,
      0b100000,
      0b100010,
      0b011100,
      0b000000,
    }
  },
  { 226, // т
    {
      0b000000,
      0b000000,
      0b111110,
      0b001000,
      0b001000,
      0b001000,
      0b001000,
      0b000000,
    }
  },
  { 227, // у
    {
      0b000000,
      0b000000,
      0b100010,
      0b100010,
      0b011110,
      0b000010,
      0b111100,
      0b000000,
    }
  },
  { 228, // ф
    {
      0b000000,
      0b001000,
      0b011100,
      0b101010,
      0b101010,
      0b101010,
      0b011100,
      0b001000,
    }
  },
  { 229, // х
    {
      0b000000,
      0b000000,
      0b100010,
      0b010100,
      0b001000,
      0b010100,
      0b100010,
      0b000000,
    }
  },
  { 230, // ц
    {
      0b000000,
      0b000000,
      0b100100,
      0b100100,
      0b100100,
      0b100100,
      0b111110,
      0b000010,
    }
  },
  { 231, // ч
    {
      0b000000,
      0b000000,
      0b100100,
      0b100100,
      0b111100,
      0b000100,
      0b000100,
      0b000000,
    }
  },
  { 232, // ш
    {
      0b000000,
      0b000000,
      0b101010,
      0b101010,
      0b101010,
      0b101010,
      0b111110,
      0b000000,
    }
  },
  { 233, // щ
    {
      0b000000,
      0b000000,
      0b101010,
      0b101010,
      0b101010,
      0b101010,
      0b111110,
      0b000010,
    }
  },
  { 234, // ъ
    {
      0b000000,
      0b000000,
      0b110000,
      0b010000,
      0b011100,
      0b010100,
      0b011100,
      0b000000,
    }
  },
  { 235, // ы
    {
      0b000000,
      0b000000,
      0b100010,
      0b100010,
      0b111010,
      0b101010,
      0b111010,
      0b000000,
    }
  },
  { 236, // ь
    {
      0b000000,
      0b000000,
      0b010000,
      0b010000,
      0b011100,
      0b010100,
      0b011100,
      0b000000,
    }
  },
  { 237, // э
    {
      0b000000,
      0b000000,
      0b011000,
      0b100100,
      0b001100,
      0b100100,
      0b011000,
      0b000000,
    }
  },
  { 238, // ю
    {
      0b000000,
      0b000000,
      0b100100,
      0b101010,
      0b111010,
      0b101010,
      0b100100,
      0b000000,
    }
  },
  { 239, // я
    {
      0b000000,
      0b000000,
      0b011110,
      0b100010,
      0b011110,
      0b001010,
      0b010010,
      0b000000,
    }
  },
  { 240, // Ё
    {
      0b010100,
      0b111110,
      0b100000,
      0b111100,
      0b100000,
      0b100000,
      0b111110,
      0b000000,
    }
  },
  { 241, // ё
    {
      0b010100,
      0b000000,
      0b011100,
      0b100010,
      0b111110,
      0b100000,
      0b011100,
      0b000000,
    }
  },
  { 248, // °
    {
      0b001100,
      0b010010,
      0b010010,
      0b001100,
      0b000000,
      0b000000,
      0b000000,
      0b000000,
    }
  },
};

void lcdSetup() {
  lcd.init();
  for (byte i = 0; i < LCD_CHARS_COUNT; i++) {
    lcd.createChar(lcdChars[i].n, lcdChars[i].c);
  }
  lcd.backlight();
  lcd.clear();
  lcd.setCursor(0, 0);
  lcdLog("LCD Loaded");
}

void lcdLog(String str) {
  Serial.println(str);
  for (byte i = 0; i < 4; i++) {
    if (i <= 3) {
      lcdLogArray[i] = lcdLogArray[i + 1];
    } else {
      lcdLogArray[i] = str;
    }
    lcd.setCursor(0, i);
    lcd.print("                    ");
    lcd.setCursor(0, i);
    lcd.print(lcdLogArray[i]);
  }
  delay(1000);
}


